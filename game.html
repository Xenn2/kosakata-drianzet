<!DOCTYPE html>  
<html lang="id">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>Tebak Kosakata - Bab 4</title>  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Bangers&display=swap">  
    <style>  
        body {   
            font-family: 'Bangers', cursive;  
            text-align: center;  
            background: url('https://i.postimg.cc/BZrhgp7y/b888b163e0277f3b0552077ef976e416.jpg') no-repeat center center fixed;  
            background-size: cover;  
        }  
  
        .container {  
            background: rgba(245, 214, 163, 0.9);  
            padding: 30px;  
            border-radius: 20px;  
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);  
            max-width: 500px;  
            width: 90%;  
            margin: auto;  
            border: 6px solid #d69c50;  
            margin-top: 50px;  
        }  
  
        .question-box {  
            background: #d69c50;  
            color: white;  
            padding: 18px;  
            border-radius: 20px;  
            font-size: 20px;  
            font-weight: bold;  
            margin-bottom: 20px;  
        }  
  
        .btn {  
            padding: 12px 20px;  
            font-size: 16px;  
            cursor: pointer;  
            border-radius: 50px;  
            margin: 5px;  
            font-weight: bold;  
            background: #ff9800;  
            color: white;  
            border: 3px solid #e67e22;  
            transition: all 0.3s;  
            display: block;  
            width: 80%;  
            margin: 10px auto;  
            position: relative;
        }  
  
        .btn:hover {  
            background: #e67e22;  
            transform: scale(1.1);  
        }  

        .correct-answer::after {  
            content: " ‚úî";  
            color: green;  
            font-size: 20px;  
            font-weight: bold;  
        }  

        #hasil {  
            font-size: 22px;  
            margin-top: 15px;  
            font-weight: bold;  
            color: #7a4a26;  
        }  
  
        #nilaiAkhir {  
            font-size: 22px;  
            margin-top: 15px;  
            font-weight: bold;  
            color: #7a4a26;  
            display: none;  
        }  
    </style>  
</head>  
<body>  

    <audio id="correctSound" src="https://www.fesliyanstudios.com/play-mp3/350"></audio>  
    <audio id="wrongSound" src="https://www.fesliyanstudios.com/play-mp3/4380"></audio>  

    <div class="container">  
        <h1>üê± Tebak Kosakata! üê±</h1>  
        <div class="question-box" id="pertanyaan">Memuat soal...</div>  
        <div id="pilihan"></div>  
        <div id="hasil"></div>  
        <div id="nilaiAkhir"></div>  
    </div>  

    <script>  
        let benar = 0;  
        let totalSoal = 34;  
        let soalTersisa = [];  

        function acakArray(array) {  
            return array.sort(() => Math.random() - 0.5);  
        }  

        function mulaiSoal() {  
            soalTersisa = [...soal];  
            tampilkanSoal();  
        }  

        function tampilkanSoal() {  
            if (soalTersisa.length === 0) {  
                document.getElementById("pertanyaan").innerText = "üéâ Semua soal selesai!";  
                document.getElementById("pilihan").innerHTML = "";  
                document.getElementById("nilaiAkhir").innerHTML = `
                    <p>Nilai Akhir: ${benar} / ${totalSoal}</p>
                    <button class="btn" onclick="location.href='bab.html'">Gas Lagi!</button>
                `;
                document.getElementById("nilaiAkhir").style.display = "block";
                return;  
            }  

            let soalSekarang = soalTersisa.shift();  
            document.getElementById("pertanyaan").innerText = soalSekarang.pertanyaan;  
            document.getElementById("hasil").innerText = "";  

            let pilihan = acakArray([soalSekarang.jawaban, ...soalSekarang.opsi]);  

            let pilihanHTML = "";  
            pilihan.forEach(pilihan => {  
                let isCorrect = pilihan === soalSekarang.jawaban;
                pilihanHTML += `<button class="btn" onclick="cekJawaban(this, '${pilihan}', '${soalSekarang.jawaban}')" data-correct="${isCorrect}">${pilihan}</button>`;  
            });  

            document.getElementById("pilihan").innerHTML = pilihanHTML;  
        }  

        function cekJawaban(button, pilihan, jawaban) {  
            let semuaTombol = document.querySelectorAll(".btn");
            let correctButton = [...semuaTombol].find(btn => btn.getAttribute("data-correct") === "true");

            if (pilihan === jawaban) {  
                benar++;  
                document.getElementById("hasil").innerText = "‚úÖ Benar!";  
                document.getElementById("correctSound").play();  
                setTimeout(tampilkanSoal, 1000);
            } else {  
                document.getElementById("hasil").innerText = "‚ùå Salah!";
                document.getElementById("wrongSound").play();
                correctButton.classList.add("correct-answer");
                setTimeout(tampilkanSoal, 1000);
            }  
        }  

        mulaiSoal();  
    </script>  

</body>  
</html>
